# JAVA ONLINE STUDY _ STUDYHALLE #4  
__목표 : 자바의 Class에 대해 학습하기.__

---

## 클래스 정의하는 방법


클래스는 객체를 정의해 놓은 것으로 객체를 생성하는 데 사용된다. 클래스와 객체는 제품 설계도와 제품의 관계와 같다고 할 수 있으며, 한 번 설계도를 잘 정의 해 놓으면 반복해서 제품을 만드는 일이 쉬워 지는 것과 같다. Java는 프로그래밍을 위한 많은 유용한 클래스를 제공하고 있으며, 이러한 클래스를 이용해 원하는 기능의 프로그램을 보다 쉽게 작성할 수 있다.  


__1. 데이터와 함수의 결합__  

- 클래스란, 데이터와 함수의 결합으로 서로 관련된 변수들을 정의하고, 이들에 대한 작업을 수행하는 함수들을 함께 정의 한 것.  
  자바와 같은 객체지향언어에서는, 변수(데이터)와 함수를 하나의 클래스에 정의하여 서로 관계가 깊은 변수와 함수를 함께 다룰 수 있다.  

- C언어에서는 문자열을 문자의 배열로 다루지만, 자바에서는 String이라는 클래스로 다룬다.  
  String 클래스에는 문자형 배열이 선언되어 있고, 이러한 문자열을 다루는데 필요한 함수를 함께 정의해 놓았다.  
  이렇게 하나의 클래스 안에 작업대상이 되는 변수와 함수를 함께 정의 해 놓음으로써, 변수와 함수가 유기적으로 연결되어 작업이 간단하고 명료해진다.  


__2. 사용자정의 타입 (user-defined type)__  

- 서로 관련된 변수들을 하나로 묶어서 하나의 타입으로 새로 추가하는 것으로, 자바에서는 클래스가 곧 사용자 정의 타입이 된다.  
  
  
```Java
public class Time {
  private int hour;
  private int minute;
  private float second;
  
  public int getHour() { return hour; }
  public int getMinute() { return minute; }
  public int getSecond() { return second; }
  
  public void setHour(int h) {
    if (h < 0 || h > 23) return;
    hour = h;
  }
  
  public void setMinute(int m) {
    if (m < 0 || h > 59) return;
    minute = m;
  }
  
  public void setSecond(float s) {
    if (s < 0.0f || s > 59.99f) return;
    second = s;
  }

}
```

- 하나의 시간을 구성하는 시, 분, 초를 하나로 묶기 위해, 세 변수를 멤버변수로 갖는 Time클래스를 정의하였다.  
또한, 이 데이터에 주어지는 제약조건들을 설정하기 위해 지정된 값의 유효성을 조건문으로 점검한 후 유효한 값일 경우에 변경할 수 있게 하였다.  


## 객체 만드는 방법 (new 키워드 이해하기)  


### 객체와 인스턴스  

- 객체 : 실제로 존재하는 것, 사물과 같은 유형의 객체 또는 개념과 같은 무형의 객체.  
- 프로그래밍에서의 객체는 클래스에 정의된 내용대로 메모리에 생성된 것.  

- 클래스로부터 객체를 만드는 과정을 __클래스의 인스턴스화__ 라고 하며,  
  어떠한 클래스로부터 만들어진 객체를 그 클래스의 __인스턴스 instance__ 라고 한다.  
- 객체와 인스턴스는 같은 의미이지만, 객체는 인스턴스를 대표하는 포괄적인 의미를 가지며  
  인스턴스는 특정 클래스로부터 만들어진 객체라는 보다 구체적인 의미를 가진다.  

### 객체의 구성요소  

- 객체는 다수의 속성과 다수의 기능으로 이루어진 속성과 기능의 집합이라고 할 수 있으며,  
  객체가 가진 속성과 기능을 그 객체의 __멤버 member__ 라 한다.  

- 속성 property : member variable, attribute, field, state
- 기능 function : method, function, behavior  

- 클래스는 객체를 정의한 것이므로 클래스에는 객체의 모든 속성과 기능이 정의되어 있다.  
  클래스로부터 객체를 생성하면, 클래스에 정의된 속성과 기능을 가진 객체가 만들어지는 것.  
  
  
### 인스턴스의 생성과 사용  

```
  클래스명 변수명;           // 클래스의 객체를 참조하기 위한 참조변수를 선언
  변수명 = new 클래스명();   // 클래스의 객체를 생성 후, 객체의 주소를 참조변수에 저장
```

- new : 클래스타입의 인스턴스를 생성해주는 역할을 한다.  
        Heap 영역에 데이터를 저장할 공간을 할당받고, 객체를 초기화 할 생성자를 호출하며, 그 공간의 참조값(해시코드)을 객체에게 반환한다.

```java
package com.studyhalle;

public class TvTest {
    public static void main(String[] args) {
        Tv t;
        t = new Tv();
        t.channel = 7;
        t.channelDown();        
    }
}

class Tv {
    String color;
    boolean power;
    int channel;
    
    void power() { power = !power; }
    void channelUp() { ++channel; }
    void channelDown() { --channel; }
}
```

- 인스턴스는 참조변수를 통해서만 다룰 수 있으며, 참조변수의 타입은 인스턴스의 타입과 일치해야 한다.  



## 메서드 정의하는 방법  


메서드 method 란, 특정 작업을 수행하는 일련의 문장들을 하나로 묶은 것으로 기본적으로 수학의 함수와 유사하며, 어떤 값을 입력하면 이 값으로 작업을 수행해서 결과를 반환한다. 물론 입력값, 출력값은 존재하지 않을 수도 있다.  

### 메서드 사용의 장점  

1. 높은 재사용성 : 한 번 만들어놓은 메서드는 몇 번이고 호출가능하며, 다른 프로그램에서도 사용가능하다.  
2. 중복된 코드의 제거 : 프로그램 작성 시 반복되는 문장을 묶어서 하나의 메서드로 작성 해 놓으면, 같은 내용을 여러번 입력할 필요 없이 메서드 호출 한 문장으로 처리가능하다. 코드의 중복이 제거되고, 전체 소스 코드의 길이도 짧아지며, 변경사항 발생 시 여러 번 반복되는 코드를 일일이 수정할 필요없어 관리가 편리하고 오류발생가능성도 줄어든다.  
3. 프로그램의 구조화 : 문장들을 작업단위로 나누어 여러개의 메서드에 담아 프로그램의 구조를 단순화시킬 수 있다. main메서드는 프로그램의 전체 흐름이 한 눈에 들어올 정도로 단순하게 구조화 하는 것이 좋다.  

### 메서드의 선언 및 구현  

메서드는 크게 선언부와 구현부로 나눌 수 있다. 메서드를 정의한다는 것은 선언부와 구현부를 작성하는 것을 뜻한다.  

```
반환타입 메서드명 (타입 변수명, 타입 변수명, ...) { // 선언부
  // 구현부 : 메서드 호출 시 수행될 코드
}
```
```
 ①   ②        ③
int add (int a, int b) {
  int result = a + b;
④ return result;
}
```

- 선언부 (method declaration, header)  
선언부는 메서드의 이름, 매개변수 선언, 반환타입 으로 구성되어있다. 메서드의 작업수행을 위해 어떤 값들을 필요로 하는지, 작업의 결과로 어떠한 타입의 값을 반환하는지에 대한 정보를 제공하는 부분이다. 메서드의 선언부는 메서드 호출에 사용된다. 선언부에 변경사항이 발생하면 메서드를 호출하는 모든 부분을 변경해야 하기 때문에, 변경사항이 발생하지 않도록 신중하게 작성 할 필요가 있다.

    ① 반환타입  
        메서드의 작업 수행 결과인 반환값의 타입을 적는다. 반환값이 없는 경우 void (아무것도 없음) 을 입력한다.

    ② 메서드명  
        변수의 명명규칙과 대부분 동일하다. 메서드는 특정 작업을 수행하므로 동사인 경우가 많으며, 이름으로 메서드의 기능을 유추할 수 있도록 의미있는 이름을 짓는 편이 좋다.

    ③ 매개변수 선언  
        메서드가 작업을 수행하는데 필요한 입력값을 제공받기 위한 것이며, 필요한 값의 개수 만큼 변수를 선언한다. 개수에는 거의 제한이 없지만, 입력할 값의 개수가 많다면 배열이나 참조변수를 이용할 수도 있다. 값을 입력받을 필요가 없다면 괄호를 비워두면 된다.   
          <sub>※ 매개변수도 메서드 내에 선언된 것으로 간주하므로, 지역변수이다.<sub>  


- 구현부 (method body)  
 선언부 다음에 오는 {} 부분에 해당하며, 메서드 호출 시 수행 될 문장을 넣는다.  
 매개변수가 선언 된 메서드의 경우, 구현부 작성 시 매개변수의 유효성 검사를 가장 먼저 실시하여 적절한 값으로 메서드가 실행될 수 있도록 할 필요가 있다.  

    ④ return문  
      - 메서드의 구현부 안에는 반드시 return문이 포함되어 있어야 하며, 그렇지 않으면 컴파일 에러가 발생한다.  
        반환타입이 void인 경우에는 컴파일과정에서 자동으로 return; 이 추가되기 때문에 컴파일 에러가 발생하지 않는다.  
      - return문은 메서드의 반환값을 호출부로 전달하는데, 이 값의 타입은 반환타입과 일치하거나 자동형변환이 가능한 것이어야 한다.   
      - 주로 변수를 반환하지만, return문에 수식을 입력할 경우 해당 식의 결과값이 반환된다. 물론 결과값은 반환타입과 일치해야 한다.  
      - 매개변수(입력값)는 여러 개를 선언 할 수 있지만, return문으로 반환할 수 있는 출력값은 한 개이다.  
      

### 메서드의 호출  

메서드를 정의한 것 만으로는 아무 일도 일어나지 않는다. 메서드를 호출해야만 구현부 내의 문장들이 수행된다.  
※ main메서드는 프로그램 실행 시 OS에 의해 자동적으로 호출된다.  

```
  메서드이름(값 1, 값 2, ...);
```
```
  int num = add(2,3);
```

- 인자 argument 와 매개변수 parameter  
인자 argument 란 메서드 호출 시 괄호안에 지정한 값을 말한다.  
인자는 메서드가 호출되면서 매개변수에 대입되는 값이므로, 인자의 개수와 순서, 타입은 선언된 매개변수와 일치해야 한다.  
반환타입이 void가 아닌 경우 변수에 반환값을 저장하는 것이 일반적이지만, 저장하지 않아도 문제가 되지는 않는다.  


어떠한 클래스 내의 메서드를 호출하기 위해서는, 해당 클래스의 인스턴스를 생성하여 참조변수를 통해 호출한다.  

```java
package com.studyhalle;

public class MyMathTest {
    public static void main(String[] args) {
        MyMath mm = new MyMath();           // 인스턴스 생성
        long result1 = mm.add(5L, 3L);      // 참조변수.메서드명 으로 호출
        double result2 = mm.divide(5L, 3L); // 자동형변환가능
    }
}

class MyMath {
    
    long add(long a, long b) {
        long result = a + b;
        return result;
    }
    long subtract (long a, long b) {
        return a - b;
    }
    long multiply (long a, long b) {
        return a * b;   
    }
    double divide (double a, double b) {
        return a / b;
    }
    
}
```


## 생성자 정의하는 방법, this, this()  

생성자 constructor 란 인스턴스가 생성될 때 호출되는 '인스턴스 초기화 메서드' 이다.  
인스턴스의 초기화 작업에 주로 사용되며, 인스턴스 생성 시 실행되어야 할 작업을 위해서도 사용된다.  

```
클래스이름 (타입 변수명, 타입 변수명, ...) {
  // 인스턴스 생성 시 수행되는 코드.
  // 주로 인스턴스 변수의 초기화작업을 위한 코드를 작성한다.
}
```

생성자 역시 메서드처럼 클래스 내부에 선언되며, 구조 또한 메서드와 유사하지만 리턴값은 없다.  
또한 생성자의 이름은 클래스의 이름과 같아야 하며, 하나의 클래스에 여러 개 존재할 수 있다.  
<sup>※ 인스턴스를 생성하는 작업은 연산자 new 에 의해 이루어지며, 생성자가 인스턴스를 생성하는 것이 아니다.</sup>    


```java
package com.studyhalle;

public class Car {
    String color;
    String gearType;
    int door;
    
    Car() {}    // 1. 기본생성자

    Car(String color, String gearType, int door) {  // 2. 매개변수가 있는 생성자
      this.color = color;
      this.gearType = gearType;
      this.door = door;
    }
    
    Car(String gearType) {
        this("white", gearType, 4);   // 3. 생성자간의 호출
    }


}
```

1. 클래스에 생성자가 하나도 정의되지 않은 경우에 한해, 컴파일러가 자동으로 내용이 없는 기본생성자를 추가하여 컴파일한다.  
   생성자가 하나라도 정의되어 있는 경우, 기본생성자는 추가되지 않는다.  

2. 생성자도 메서드와 같이 매개변수를 선언하여 값을 넘겨받아 초기화작업에 사용할 수 있다.  
  인스턴스마다 다른 값으로 초기화되어야 하는 경우가 많기 때문에 매개변수를 사용한 초기화는 매우 유용하며, 코드를 직관적이고 간결하게 만들어 준다.  

3. 생성자 간에도 서로 호출이 가능하지만, 두 가지 조건을 만족시켜야 한다.  
    __① 한 생성자에서 다른 생성자를 호출할 때는 반드시 첫 줄에서 호출해야 한다.__  
      초기화 작업 도중에 다른 생성자를 호출하게 되면, 호출된 다른 생성자 내에서도 멤버변수들의 값을 초기화 하므로 이전의 초기화 작업이 무의미해질 수 있기 때문이다.  
    __② 생성자의 이름으로 클래스이름 대신 this를 사용해야 한다.__  
      _this_ : 인스턴스 자신을 가리키는 참조변수로 인스턴스의 주소가 저장되어 있으며, 모든 인스턴스 메서드에 지역변수로 숨겨진 채 존재한다. 참조변수로 인스턴스의 멤버에 접근할 수 있는 것 처럼, this로 인스턴스 변수에 접근할 수 있다.   
      _this(), this(매개변수)_ : 생성자로 같은 클래스의 다른 생성자를 호출할 때 사용한다.  


## 과제 (Optional)  

- int 값을 가지고 있는 이진 트리를 나타내는 Node 라는 클래스를 정의하세요.  
- int value, Node left, right를 가지고 있어야 합니다.  
- BinrayTree라는 클래스를 정의하고 주어진 노드를 기준으로 출력하는 bfs(Node node)와 dfs(Node node) 메소드를 구현하세요.  
- DFS는 왼쪽, 루트, 오른쪽 순으로 순회하세요.  
