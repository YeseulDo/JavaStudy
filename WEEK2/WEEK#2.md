# JAVA ONLINE STUDY _ STUDYHALLE #2  
__과제 : JVM은 무엇이며 자바 코드는 어떻게 실행하는 것인가.__  
__목표 : 자바 소스 파일(.java)을 JVM으로 실행하는 과정 이해하기.__

---


## 기본형 (Primitive Type)  
자바의 데이터 타입은 크게 기본형(Primitive type)과 참조형(Reference tyle) 두가지로 나눌 수 있다.  
기본형에는 모두 8개의 타입이 있으며, 크게 논리형, 문자형, 정수형, 실수형으로 구분가능하다.  
 
 
- ### 논리형  `boolean`
true, false 중 하나의 값을 가지며 조건식과 논리적 계산에 사용된다. 다른 기본형과의 연산은 불가능하다.  
1Bit로 표현가능하지만 자바의 데이터 최소단위가 Byte이므로 1Byte의 크기를 갖는다.


- ### 문자형  `char`  
문자를 저장하는 데 사용되며, 변수에는 하나의 문자만 저장할 수 있다.  
내부적으로는 정수(유니코드) 로 저장되기 때문에 정수형, 실수형과의 연산도 가능하다.  


- ### 정수형  `int, byte, short, long`  
정수를 저장하는 데 사용된다. 기본데이터형은 __int__. byte는 이진데이터, short와는 C언어와의 호환을 위해 추가된 데이터타입이다.  
JVM의 피연산자스택은 피연산자를 4Byte단위로 저장한다. 그보다 작은 자료형의 값을 계산할 때는 4Byte로 변환한 뒤 연산을 수행하기 때문에 int가 가장 효율적인 형태라고 볼 수 있다. 연산의 결과가 int의 범위를 넘을 때 long을 사용하며, 성능보다 메모리절약을 중시할 때 byte와 short를 사용한다.  
연산 중 저장범위를 넘어서게 되면 오버플로우가 발생하기 때문에, 적절한 데이터타입을 선택할 필요가 있다.  
> 오버플로우 : 해당 타입이 표현할 수 있는 값의 범위를 넘어서는 것. 에러는 아니지만 예상했던 결과를 얻지 못하는 경우가 발생한다.  


- ### 실수형  `double, float` 
실수를 저장하는 데 사용된다. 정수형과 같은 크기라도 훨씬 큰 값을 표현가능하지만, 오차가 발생할 수 있으므로 값의 범위 뿐 아니라 정밀도 또한 타입선택의 중요한 기준이 된다.  
실수형에서도 표현범위의 최대값을 넘어가는 경우 오버플로우가 발생하며, 변수의 값은 무한대(Infinity)가 된다.  
또한 실수형에는 언더플로우도 존재하는데, 표현할 수 있는 최소값보다 작은 값이 되는 경우 발생하며 변수의 값은 0이 된다.  
double은 float보다 두 배정도의 정밀도를 가진다는 의미이다.  


|자료형|타입|기본값|표현범위 (정밀도)|bit|Byte|
|:---:|:---:|:---:|:---:|:---:|:---:|  
|boolean | 논리형 |false| true, false | 8bit | 1Byte |  
|char | 문자형 |'\u0000'| '\u0000' ~ '\uffff' | 16bit | 8Byte |  
|byte | 정수형 |0|  -2<sup>7</sup> ~ 2<sup>7</sup>-1 | 8bit | 1Byte |  
|short | 정수형 |0|  -2<sup>15</sup> ~ 2<sup>15</sup>-1 | 16bit | 2Byte |  
|int | 정수형 |0|  -2<sup>31</sup> ~ 2<sup>31</sup>-1 | 32bit | 4Byte |  
|long | 정수형 |0L|  -2<sup>63</sup> ~ 2<sup>63</sup>-1 | 64bit | 8Byte |  
|float | 실수형 |0.0F| ± 1.4x10<sup>-45</sup> ~ 3.4x10<sup>38</sup> (7) | 32bit | 4Byte |  
|double | 실수형 |0.0|  ± 4.9x10<sup>-324</sup> ~ 1.8x10<sup>308</sup> (15) | 64bit | 8Byte|  


<br>

## Primitive Type, Reference Type  

- ### 기본형 Primitive Type  
계산을 위한 실제 값(data)을 저장하는 자료형.  


- ### 참조형 Reference Type  
어떤 값이 저장되어있는 주소 <sup>(memory address : 메모리에 붙어있는 1Byte 단위의 일련번호)</sup> 를 저장하며 기본형을 제외한 나머지 자료형.  
Java는 참조형 변수 간의 연산을 할 수 없으므로, 실제 연산에 사용되는 것은 모두 기본형이다.  
<br>

## 리터럴 literal  
일반적인 의미의 상수를 뜻한다. 변수 등에 저장되는 “값”, 데이터 그 자체를 의미하며, 값에 의미 있는 이름을 붙여 코드의 이해와 수정을 쉽게 만든다.
자바에서는 constant(상수) 가 다른 의미로 사용되고 있으므로 일반적인 의미의 상수를 표현하기 위한 용어가 필요해 리터럴이라는 명칭을 가지게 되었다.  

> 상수 constant : 변하지 않는 변수를 의미하며, 한 번 값을 저장하면 다른 값으로 변경할 수 없다.  
선언과 동시에 초기화가 이루어지며, 변수의 타입 앞에 final 키워드를 붙여 선언한다. 관례적으로 상수의 이름은 대문자로 선언된다.
<br>

## 변수의 선언 및 초기화  
__변수란,  단 하나의 값을 저장할 수 있는 메모리 공간을 의미한다.__  

- ### 변수의 선언
  - 기본형 : 변수타입 변수이름; `int number;`
  - 참조형 : 클래스이름 변수이름; `Car car;`    
  
   변수에 저장하려는 값의 특성을 고려하여 가장 알맞은 자료형을 변수타입으로 선택하여야 한다.  
   변수를 선언하면 메모리의 빈 공간에 변수타입에 맞는 크기의 저장공간이 확보되고, 이 저장공간은 변수이름을 통해 사용할 수 있게 된다.   

- ### 변수의 명명규칙 
1. 대소문자는 구분되며 길이에는 제한이 없다.
2. 예약어는 변수의 이름으로 사용할 수 없다. (true는 예약어, True는 사용가능)
3. 변수의 이름은 숫자로 시작할 수 없다
4. 특수문자는 _와 $만을 허용한다.
5. 그 외 필수적이지는 않으나 권장되는 규칙들로는 아래와 같은 항목들이 있다.  
    - 변수의 이름은 소문자로 시작할 것 (일반적으로 클래스의 이름은 대문자로 시작한다)
    - 여러 단어의 조합은 단어의 첫글자를 대문자로 표현 할 것
    - 상수의 이름은 모두 대문자로 선언하며, 여러단어로 이루어진 경우 _ 로 구분한다.  


- ### 변수의 초기화  
변수의 초기화란, 변수를 사용하기 전 처음으로 값을 저장하는 것을 말한다.  
변수를 사용하기 위해서는 반드시 초기화를 할 필요가 있다. 메모리는 여러 프로그램이 공유하는 자원이므로 예상치 못 한 garbage value가 남아있을 수 있기 때문이다. 
지역변수는 반드시 초기화가 필요하고, 클래스변수와 인스턴스 변수는 초기화를 생략할 수 있다. 초기화 생략 시 각 데이터타입의 기본 값으로 초기화 된다.  

변수를 초기화 할 때는 대입연산자 = 를 사용해 값을 저장한다.  (오른쪽의 값을 왼쪽의 변수에 저장한다는 의미)

    Int num = 1;
    Date today = new Date();


#### 명시적 초기화 explicit initialization  
변수 선언과 동시에 초기화 하는 것으로 가장 기본적인 초기화 방법이다.  


#### 생성자 constructor   
생성자의 이름은 클래스와 같다. 모든 클래스에는 반드시 하나 이상의 생성자가 필요하며, 하나의 클래스에 여러 개의 생성자가 존재할 수 있다.  
> 인스턴스를 생성하는 것은 연산자 new 이지 생성자가 아니다. 생성자는 인스턴스변수의 초기화에 사용되는 메서드의 일종이다.  


컴파일 시 클래스에 생성자가 하나도 정의되지 않은 경우 컴파일러가 자동적으로 기본 생성자를 초가하여 컴파일 한다.   
때문에, 특별히 초기화 작업이 필요한 경우가 아니라면 기본 생성자를 사용해도 무방하다.  


>	__this()__ : 생성자 간의 호출에 클래스 이름 대신 사용된다. 다만, 초기화 작업 도중 다른 생성자를 호출하게 되면 호출된 다른 생성자 내에서도 멤버변수들의 값을 초기화 할 것이므로 이전의 초기화 작업이 무의미해질 수 있기 때문에 생성자에서 다른 생성자를 호출할 때는 반드시 첫 줄에서 호출해야 한다.  
__this__ : 인스턴스 자신을 가리키는 참조 변수로 인스턴스 주소가 저장되어 있다. 모든 인스턴스 메서드에 지역변수로 숨겨진 채 존재한다.  


__초기화블럭 initialization block__   
초기화 작업이 복잡하여 명시적 초기화만으로는 부족한 경우에 사용되는 방법으로 클래스 내에 블록을 만들기만 하면 된다.  
인스턴스 초기화 블럭은 생성자와 같이 인스턴스를 생성할 때마다 수행되며, 모든 생성자에서 공통으로 수행되어야 하는 코드를 넣는데 사용한다.  
클래스 초기화 블럭은 클래스가 메모리에 처음 로딩될 때 한 번만 수행된다. 인스턴스 블록앞에 static 키워드를 붙여 작성한다.  



## 변수의 스코프와 라이프타임  


- 멤버변수 : 클래스 영역에 선언된 변수로, 클래스 변수와 인스턴스 변수로 나눌 수 있다.  
  - 인스턴스 변수 : 인스턴스가 생성될 때 마다 생성되며 각 인스턴스 별로 초기화가 이루어진다.  인스턴스변수의 값을 읽어오거나 저장하기 위해서는 먼저 인스턴스를 생성해야 한다.  인스턴스는 독립적인 저장공간을 가지므로 서로 다른 값을 가질 수 있다.  인스턴스마다 고유한 상태를 유지해야 하는 속성의 경우에 인스턴스 변수로 선언한다.  기본값, 명시적 초기화, 인스턴스 초기화 블럭, 생성자 순으로 초기화된다.
  - 클래스 변수 : static 클래스가 메모리에 올라갈 때 생성. 인스턴스 변수앞에 static을 붙이기만 하면 된다. 클래스변수는 모든 인스턴스가 공통된 저장공간을 공유하기 때문에, 한 클래스의 모든 인스턴스들이 공통적인 값의 속성을 유지해야하는 경우 클래스변수로 선언한다. 클래스변수는 인스턴스를 생성하지 않고도 `클래스이름.클래스변수` 의 형태로 사용가능하다.클래스가 메모리에 로딩될 때 생성되어 프로그램이 종료될 때 까지 유지된다. public을 붙이면 같은 프로그램 내 어디서나 접근가능한 전역변수의 성격을 갖는다. 믈래스가 처음 로딩될 때 단 한번 초기화된다. 기본값, 명시적초기화, 클래스초기화블럭 순서로 초기화가 이루어진다.

- 지역변수 : 멤버변수를 제외한 나머지 변수로, 클래스영역 이외의 영역에(메서드, 생성자, 초기화블럭 내부 등) 선언되며 변수 선언문이 수행되었을 때 생성된다. 선언된 해당 영역 내에서만 사용가능하며, 그 영역이 종료되면 소멸되어 사용할 수 없게 된다. 


## 타입 변환, 캐스팅 그리고 타입 프로모션
#### 형변환 casting  
변수나 상수의 타입을 다른 타입으로 변환하는 것. `(타입) 피연산자`  
기본형에서 boolean을 제외한 나머지 타입들은 서로 형변환이 가능하다. 기본형과 참조형간의 형변환은 불가능하다.  


정수형 : float → int 소수점 이하의 값은 버림처리된다.  
큰타입에서 작은타입으로 변환하는 경우는 값손실(loss of data)가 발생하는 경우가 있으니 주의가 필요하다.  
작은타입에서 큰타입으로 변환하는 경우는 빈공간은 양수인경우 0, 음수인 경우 1로 채워진다.  

실수형 : double → float 변환에는 주의가 필요하다. 같은 값을 저장해도 정밀도 차이 때문에 서로 다른 값이 저장되는 경우가 생기기 때문이다.  
float타입의 범위를 벗어나는 수를 float로 변환하는 경우, 최대값 이상의 수는 ±무한대, 최소값 이하의 수는 ±0을 얻는다.


## 1차 및 2차 배열 선언하기   
#### 배열 : 같은 타입의 변수를 하나의 묶음으로 다루는 것으로, 각 저장공간이 연속적으로 배치되어 있다. 많은 양의 데이터를 다룰 때 편리하다.

타입[] 변수이름;  
타입 변수이름[];  


변수이름 = new 타입[길이]  

배열은 한 번 생성되고 나면 길이를 변경할 수 없다.
생성된 배열의 각 저장공간을 배열의 요소 element 라고 하며 배열이름[인덱스]로 요소에 접근한다.  
배열의 요소마다 붙여진 일련번호가 index이며, 0부터 시작된다.  
배열의 길이가 0인 배열도 존재한다. 
생성과 동시에 타입에 해당하는 기본값으로 초기화된다.  


2차원 배열

타입[][] 변수이름;  
타입 변수이름[][];  
타입[] 변수이름[];

배열의 배열로, 행과 열로 구성되며 인덱스도 각각 존재한다.  
배열이름[행인덱스][열인덱스] 로 요소에 접근할 수 있다.
다차원 배열을 생성할 때 전체 배열 차수 중 마지막 차수의 길이를 지정하지 않고 추후에 각기 다른 길이의 배열을 생성함으로써 유동적인 가변 배열의 구성도 가능하다.


## 타입추론 Type Inference
타입이 정해지지 않은 변수의 타입을 컴파일러가 유추하는 기능
--> 보충예정입니다...ㅎ

---
#### REFERENCE
남궁성, 「자바의 정석」, 도우출판, 2016
